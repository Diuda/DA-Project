<!doctype html>
<html>

<head>
    <title>YouTube</title>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
	<!--<script src ="js/searchapi.js"></script>-->
</head>

<body>
	<div>
		<input id="analyze" type="button" value="Analyze">
		<script>
			$('#analyze').click(function(){
				$.ajax({
					type: 'POST',
					url: '/analyze',
					beforeSend : function(){
								document.getElementById("myDIV").innerHTML = "Loading ...";								
								},  
					complete : function(validationResponse){
									console.log("Response came back " + validationResponse.responseText);
									if(validationResponse.responseText =="success"){
										document.getElementById("myDIV").innerHTML = "Command ran successfully";
									}else{
										document.getElementById("myDIV").innerHTML = "Some error occured !! Please try again";
									}
								}
				});
				});
		</script>
	</div>
    <form method="post" action="/">
	<!--id="youtube search form" action="javascript:clickedSearchButton()" -->
		<table id="searchDisplay">
          <tr>
            <td>&nbsp;&nbsp;&nbsp;</td>
            <td id="timeframeLabel">Time Frame</td>
          </tr>
          <tr>
            <td>&nbsp;&nbsp;&nbsp;</td>
            <td>
              <select id='timeWindow'>
                <option value="any" selected="selected">Any Time</option>
                <option value="hour">Past Hour</option>
                <option value="3hours">Past 3 Hours</option>
                <option value="6hours">Past 6 Hours</option>
                <option value="9hours">Past 9 Hours</option>
                <option value="12hours">Past 12 Hours</option>
                <option value="24hours">Past 24 Hours</option>
                <option value="week">Past Week</option>
                <option value="30days">Past 30 days</option>
              </select>
            </td>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td>
               <input id="search-button" type="button" value="Get New Data">
			   <script>
			   $('#search-button').click(function(){
				var timeframe = $('#timeWindow').val();
				console.log(timeframe);
				$.ajax({
					type: 'POST',
					url: '/click',
					data : timeframe,
					beforeSend : function(){
								document.getElementById("myDIV").innerHTML = "Loading ...";
								
								},  
					complete : function(validationResponse){
									console.log("Response came back " + validationResponse.responseText);
									if(validationResponse.responseText =="success"){
										document.getElementById("myDIV").innerHTML = "Data Saved into file";
									}else{
										document.getElementById("myDIV").innerHTML = "Some error occured !! Please try again";
									}
								}
				});
				});
			   </script>
            </td>
          </tr>
		</table>
		<div id="myDIV">
			Click above button to get the data.
		</div>
	</form>
	
</body>

</html>